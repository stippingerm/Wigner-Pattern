%BRANCH2_CLEANED This script contains settings for GPFA training and procesing
%
%        DESCRIPTION: This script is loaded by gpfa4batch
%
% Marcell Stippinger, 2016

%directory
settings.basepath        = '~/marcell/_Data_PassiveViewing/';
settings.workpath        = '~/marcell/napwigner/work/';
settings.pattern         = '(.*_MUA)\.mat';
settings.paradigm        = 'viewing'; % losonczi, maze, synthetic, viewing

%dataset
settings.animal          = |animal|;
settings.debug           = false;

%-- some specific settings --

%segmentation of the run (specific to synthetic data)
settings.nTrials         = 12; % how to split data into trials

%phase or section of the rial to select

%phase in the trial to analyze (specific to Losonczi)
%Losonczi sections: water, CS, trace, US, wait

%section in the maze to analyze (specific to HC-5)
%maze: mid_arm, preturn, turn, lat_arm, reward, delay, wheel

%interval in the viewing to analyze (specific to passive viewing)
%viewing: times given in sec

settings.section.in      = '|in|';
settings.section.out     = '|out|';

%description and filename of the trained model

%Losonczi: whole, CS, trace, ...
%maze: run, wheel
%synthetic: run
%viewing: view

settings.namevar         = '|mode|';


%data binning and filtering of silent neurons
settings.bin_size            = |bin_size|; %duration (s)
settings.minFiringRate       = |fr|; %minimium firing rate (Hz)
settings.medianFiringRate    = 0.1;
settings.filterParametrization = 'standard'; % specific to viewing
settings.interneuron_allowed = false; % specific to maze

% GPFA training
settings.showpred        = false; %show predicted firing rate
settings.filterTrials    = false; % filter trails with irregular spike count?
settings.testTrial       = 10;
settings.train           = true;
settings.nFolds          = 3; %CV folds
settings.zDim            = |zDim|; %latent dimension
settings.maxTime         = 0; %maximum segmentation time, 0 if use all
settings.maxLength       = 100; %maximum unsplitted time series length, 0 if no limit
